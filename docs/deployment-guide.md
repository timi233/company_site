# 部署指南

以下步骤可帮助您在任何支持 Node.js 的环境中部署数擎科技官网。

## 1. 环境准备
- Node.js 18 及以上版本
- npm 9 及以上
- 可选：配置 `process.env.HOST` 和 `process.env.PORT` 重写监听地址

## 2. 安装依赖
```bash
npm install
```

## 3. 构建生产版本
```bash
npm run build
```
构建产物将输出到 `dist/` 目录。

## 4. 本地预览
```bash
npm run preview
```
默认会绑定到 `10.242.94.9:4321`，可通过 `--host` 与 `--port` 参数覆盖。

## 5. 部署到服务器
- 将 `dist/` 上传到任意静态资源服务（如 Nginx、静态网站托管平台等）。
- 若需要 SSR 或中间层，可使用 `@astrojs/node` 适配器部署为 Node 服务。

## 6. CI/CD 建议
1. 在流水线中执行：`npm ci && npm run check && npm run build`
2. 产物校验通过后发布到制品库或对象存储
3. 配置健康检查，确保 4321 端口可访问

## 7. 回滚与监控
- 保留最近 2~3 个构建版本，方便快速回滚
- 结合日志系统与性能监控，观察构建资源占用与响应时间

完成以上步骤，即可在生产环境可靠运行本站点。
