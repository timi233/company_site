---
import BaseLayout from '../components/layout/BaseLayout.astro';
import SolutionCard from '../components/business/SolutionCard.astro';
import CaseCard from '../components/business/CaseCard.astro';
import ProductCard from '../components/business/ProductCard.astro';
import type { Solution, Case, Product, CompanyInfo } from '../types';

const solutions = (await import('../data/solutions.json')).default as Solution[];
const cases = (await import('../data/cases.json')).default as Case[];
const products = (await import('../data/products.json')).default as Product[];
const company = (await import('../data/company.json')).default as CompanyInfo;

const heroStats = [
  {
    value: '3000+',
    label: '服务企业级客户',
    iconPath: 'M4 18h3V7h3v11h4V4h3v14h3',
  },
  {
    value: '100+',
    label: '大型成功交付项目',
    iconPath: 'M5 5h14M5 12h9m-9 7h14',
  },
  {
    value: '7x24',
    label: '本地化技术支持',
    iconPath: 'M12 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm-7 10a7 7 0 0 1 14 0v2H5z',
  },
];

const heroImage = 'https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&w=900&h=720&q=80';
---
<BaseLayout
  title="普悦天诚 · 企业IT安全与数据中心服务"
  description="普悦天诚（PYTC）专注终端安全管控、数据保护与零信任访问，提供咨询、集成与运维一体化服务。"
>
  <section class="relative overflow-hidden rounded-[32px] bg-gradient-to-br from-blue-50 via-white to-slate-50 hero-pattern">
    <div class="absolute -top-20 right-10 h-72 w-72 rounded-full bg-brand-200 opacity-40 blur-3xl"></div>
    <div class="absolute -bottom-24 -left-5 h-64 w-64 rounded-full bg-sky-200 opacity-40 blur-3xl"></div>
    <div class="relative mx-auto grid max-w-6xl gap-12 px-6 py-16 lg:grid-cols-2 lg:items-center">
      <div class="space-y-6">
        <p class="inline-flex items-center gap-2 rounded-full border border-white/60 bg-white/80 px-4 py-1 text-sm font-medium text-brand-600 shadow-sm backdrop-blur">
          <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
          {company.shortName} · {company.englishAbbr}
        </p>
        <h1 class="text-4xl font-bold text-slate-900 md:text-5xl">
          终端安全与数据中心一体化专家
        </h1>
        <p class="text-xl font-semibold text-brand-500">{company.slogan}</p>
        <p class="text-lg text-slate-600">{company.description}</p>
        <div class="flex flex-wrap gap-4">
          <a href="/solutions" class="rounded-full bg-brand-500 px-6 py-3 text-white shadow-elevated">立即了解方案</a>
          <a href="/services" class="rounded-full border border-slate-200 px-6 py-3 text-slate-700 hover:border-brand-200">预约顾问</a>
        </div>
        <dl class="grid gap-4 sm:grid-cols-3">
          {heroStats.map((stat) => (
            <div class="rounded-2xl border border-white/40 bg-white/80 p-4 shadow-lg shadow-slate-200/60 backdrop-blur">
              <div class="flex items-center gap-3">
                <span class="flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-brand-100 to-blue-100 text-brand-600">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
                    <path d={stat.iconPath}></path>
                  </svg>
                </span>
                <div>
                  <dt class="text-3xl font-semibold text-slate-900">{stat.value}</dt>
                  <dd class="text-sm text-slate-500">{stat.label}</dd>
                </div>
              </div>
            </div>
          ))}
        </dl>
      </div>
      <div class="relative">
        <div class="absolute -right-6 -top-6 h-24 w-24 rounded-full border border-white/50 bg-white/70"></div>
        <div class="absolute -bottom-6 -left-8 h-20 w-20 rounded-2xl border border-blue-100 bg-white/60"></div>
        <img
          src={heroImage}
          alt="团队协作场景"
          width="900"
          height="720"
          loading="lazy"
          class="image-card rounded-[28px] shadow-2xl shadow-slate-300/80"
        />
      </div>
    </div>
  </section>

  <section class="mt-16 space-y-6">
    <div class="flex flex-col gap-3 md:flex-row md:items-end md:justify-between">
      <div>
        <p class="text-sm font-semibold text-brand-500">方案亮点</p>
        <h2 class="section-title">行业数字化场景</h2>
      </div>
      <a href="/solutions" class="text-sm font-semibold text-brand-600">查看全部方案 →</a>
    </div>
    <div class="grid gap-6 md:grid-cols-2">
      {solutions.slice(0, 2).map((solution) => <SolutionCard solution={solution} />)}
    </div>
  </section>

  <section class="mt-16 space-y-6">
    <div class="flex flex-col gap-3 md:flex-row md:items-end md:justify-between">
      <div>
        <p class="text-sm font-semibold text-brand-500">旗舰产品</p>
        <h2 class="section-title">可信数据与安全矩阵</h2>
      </div>
      <a href="/products" class="text-sm font-semibold text-brand-600">查看更多产品 →</a>
    </div>
    <div class="grid gap-6 md:grid-cols-3">
      {products.slice(0, 3).map((product) => <ProductCard product={product} />)}
    </div>
  </section>

  <section class="mt-16 space-y-6">
    <div class="flex flex-col gap-3 md:flex-row md:items-end md:justify-between">
      <div>
        <p class="text-sm font-semibold text-brand-500">客户成功</p>
        <h2 class="section-title">标杆案例</h2>
      </div>
      <a href="/cases" class="text-sm font-semibold text-brand-600">更多案例 →</a>
    </div>
    <div class="grid gap-6 md:grid-cols-2">
      {cases.slice(0, 2).map((item) => <CaseCard item={item} />)}
    </div>
  </section>
</BaseLayout>
